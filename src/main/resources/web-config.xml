<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/mvc
       http://www.springframework.org/schema/mvc/spring-mvc.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context.xsd">

    <!--  tag by which IoC will scan packets provided in the attribute for the presence of beans  -->
    <context:component-scan base-package="bookstore.com.web"/>
    <!-- connect a new mapping of resources -->
    <mvc:resources mapping="/**" location="classpath:images"/>
    <!--  connect mvc annotations  -->
    <mvc:annotation-driven/>

    <!--  to capture all incoming requests and return HTTP templates  -->
    <!--    <mvc:default-servlet-handler/>-->
    <!--  define ViewResolver -->
    <!--    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">-->
    <!--        <property name="prefix" value="/WEB-INF/views/" />-->
    <!--        <property name="suffix" value=".html" />-->
    <!--    </bean>-->

    <!--  Thymeleaf Configuration -->
    <!-- SpringTemplateEngine auto add SpringStandardDialect -->
    <bean class="org.thymeleaf.spring5.view.ThymeleafViewResolver">
        <property name="templateEngine" ref="templateEngine"/>
        <property name="order" value="1"/>
    </bean>


    <!-- New ViewResolver -->
    <bean id="templateResolver"
          class="org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver">
        <property name="prefix" value="/WEB-INF/views/"/>
        <property name="suffix" value=".html"/>
        <property name="templateMode" value="HTML"/>
        <!-- The page cache is set to true by default. Set to false
        if you want templates to automatically update when they change -->
        <property name="cacheable" value="true"/>
    </bean>


    <bean id="templateEngine"
          class="org.thymeleaf.spring5.SpringTemplateEngine">
        <!-- Inclusion of the compiler SpringEL in Spring 4.2.4 and newer can speed up
        execution in most scenarios, but may not be compatible with specific
        cases, where expressions on the same page are reused in different data,
         so this flag defaults to false for safer backward compatibility -->
        <property name="templateResolver" ref="templateResolver"/>
        <property name="enableSpringELCompiler" value="true"/>
    </bean>

    <!-- Define the simple view controller -->
<!--    <mvc:view-controller path="/books/shelf" view-name="book_shelf"/>-->
</beans>